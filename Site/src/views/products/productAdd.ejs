<!DOCTYPE html>
<html lang="en">

  <%-include('../partials/head')%> 
  
  <body class="add">

    <%-include('../partials/header')%>

    <main>
        <h3>Agregar nuevo producto</h3>

        <div class="contenedor">
          
          <form method="POST" id="productAdd" enctype="multipart/form-data">

          <div class="carruselImages">
            <br>

            <label for="image">
            <input class="image" type="file" id="image" name="image" multiple>
            <span id="error-image" class="error"><%= locals.errors && errors.image ? errors.image.msg : null %></span>
            <span id="info-image" class="errorVF"></span>
            </label>
            
          </div>     

          <div class="container-input-total">
            <input type="text" placeholder="Nombre del producto" id="name" name="name" value="<%= locals.old && old.name ? old.name : null %>">
            <span id="error-name" class="error"><%= locals.errors && errors.name ? errors.name.msg : null %></span>
            <span id="info-name" class="errorVF"></span>
          </div>

          <div class="container-input-total">
            <textarea placeholder="Descripción" id="description" name="description"><%= locals.old && old.description ? old.description : null %></textarea>
            <label for="description"></label>
            <span id="error-description" class="error"><%= locals.errors && errors.description ? errors.description.msg : null %></span>
            <span id="info-description" class="errorVF"></span>
            </div>

          <div class="container-input-mitad">
            <!-- <input type="text" placeholder="Tamaño" id="size" name="size" value="< %= locals.old && old.size ? old.size : null %>">  -->

            <select class="form-select" id="size" aria-label="Floating label select example" name="size">
              <option value="" selected hidden>Selecciona el tamaño</option>
              <% sizes.forEach(size => { %>
                <option value="<%= size.id %>" <%= locals.old && old.sizeId === size.id  ? 'selected' : null%>><%= firstLetter(size.name) %></option>
              <% }) %>
            </select>
            <label for="category"></label>   

            <span id="error-size" class="error-half"><%= locals.errors && errors.size ? errors.size.msg : null %></span>   
            <span id="info-size" class="errorVF"></span>      

            <input type="number" placeholder="Precio" id="price" name="price" value="<%= locals.old && old.price ? old.price : null %>">
            <span id="error-price" class="error-half"><%= locals.errors && errors.price ? errors.price.msg : null %></span>
            <span id="info-price" class="errorVF"></span>   
          </div>        
          
            <div class="container-input-mitad">

            <select class="form-select" id="category" aria-label="Floating label select example" name="category">
              <option value="" selected hidden>Selecciona la categoría</option>
              <% categories.forEach(category => { %>
                <option value="<%= category.id %>" <%= locals.old && old.categoryId === category.id  ? 'selected' : null%>><%= firstLetter(category.name) %></option>
              <% }) %>
            </select>
            <label for="category"></label>    
            <span id="error-category" class="error-half"><%= locals.errors && errors.category ? errors.category.msg : null %></span>
            <span id="info-category" class="errorVF"></span>
          
            <select class="form-select" id="display" aria-label="Floating label select example" name="display">
              <option value="" selected hidden>Selecciona el display</option>
              <% displays.forEach(display => { %>
                <option value="<%= display.id %>" <%= locals.old && old.displayId === display.id  ? 'selected' : null%>><%= firstLetter(display.name) %></option>
              <% }) %>
            </select>
            <label for="display"></label>  
            <span id="error-display" class="error-half"><%= locals.errors && errors.display ? errors.display.msg : null %></span>
            <span id="info-display" class="errorVF"></span>    
          </div>
         <div><span id="errorEmpty" class="error-half"></span></div>
        
          <button class="btn-add" type="submit">Guardar</button>

        </form>
      
      </div>
     
    </main>
    
    <%-include('../partials/footer') %>
    <script src="/javascripts/productsValidator.js"></script>
  </body>
</html>
